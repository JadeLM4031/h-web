import{_ as s,c as n,o,a}from"./app.331b49cb.js";const x=JSON.parse('{"title":"常用工具函数","description":"","frontmatter":{},"headers":[{"level":2,"title":"js 获取路径参数","slug":"js-获取路径参数","link":"#js-获取路径参数","children":[]},{"level":2,"title":"js 中设置 css 变量","slug":"js-中设置-css-变量","link":"#js-中设置-css-变量","children":[]},{"level":2,"title":"封装 axios","slug":"封装-axios","link":"#封装-axios","children":[]}],"relativePath":"tool/base.md"}'),t={name:"tool/base.md"},e=a(`<h1 id="常用工具函数" tabindex="-1">常用工具函数 <a class="header-anchor" href="#常用工具函数" aria-hidden="true">#</a></h1><h2 id="js-获取路径参数" tabindex="-1">js 获取路径参数 <a class="header-anchor" href="#js-获取路径参数" aria-hidden="true">#</a></h2><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki css-variables"><code><span class="line"><span style="color:var(--shiki-token-function);">getParam</span><span style="color:var(--shiki-color-text);"> (key) {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  </span><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">URL</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">window</span><span style="color:var(--shiki-token-function);">.</span><span style="color:var(--shiki-token-constant);">location</span><span style="color:var(--shiki-token-function);">.</span><span style="color:var(--shiki-token-constant);">href</span><span style="color:var(--shiki-token-function);">.split</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&#39;?&#39;</span><span style="color:var(--shiki-color-text);">)[</span><span style="color:var(--shiki-token-constant);">1</span><span style="color:var(--shiki-color-text);">];</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  </span><span style="color:var(--shiki-token-keyword);">let</span><span style="color:var(--shiki-color-text);"> obj </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> {}; </span><span style="color:var(--shiki-token-comment);">// 声明参数对象</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  </span><span style="color:var(--shiki-token-keyword);">let</span><span style="color:var(--shiki-color-text);"> arr </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">URL</span><span style="color:var(--shiki-token-function);">.split</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&quot;&amp;&quot;</span><span style="color:var(--shiki-color-text);">);</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  </span><span style="color:var(--shiki-token-keyword);">for</span><span style="color:var(--shiki-color-text);"> (</span><span style="color:var(--shiki-token-keyword);">let</span><span style="color:var(--shiki-color-text);"> i </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">; i </span><span style="color:var(--shiki-token-keyword);">&lt;</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">arr</span><span style="color:var(--shiki-color-text);">.</span><span style="color:var(--shiki-token-constant);">length</span><span style="color:var(--shiki-color-text);">; i</span><span style="color:var(--shiki-token-keyword);">++</span><span style="color:var(--shiki-color-text);">) {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">    </span><span style="color:var(--shiki-token-keyword);">let</span><span style="color:var(--shiki-color-text);"> arrNew </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> arr[i]</span><span style="color:var(--shiki-token-function);">.split</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&quot;=&quot;</span><span style="color:var(--shiki-color-text);">);</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">    obj[arrNew[</span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">]] </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> arrNew[</span><span style="color:var(--shiki-token-constant);">1</span><span style="color:var(--shiki-color-text);">];</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  }</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  </span><span style="color:var(--shiki-token-keyword);">return</span><span style="color:var(--shiki-color-text);"> obj[key]</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">}</span><span style="color:var(--shiki-token-punctuation);">,</span></span>
<span class="line"></span></code></pre></div><hr><h2 id="js-中设置-css-变量" tabindex="-1">js 中设置 css 变量 <a class="header-anchor" href="#js-中设置-css-变量" aria-hidden="true">#</a></h2><div class="language-css"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki css-variables"><code><span class="line"><span style="color:var(--shiki-token-comment);">/* css文件 */</span></span>
<span class="line"><span style="color:var(--shiki-token-function);">:root</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  --aaa</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">20</span><span style="color:var(--shiki-token-keyword);">px</span><span style="color:var(--shiki-color-text);">;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">}</span></span>
<span class="line"></span></code></pre></div><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki css-variables"><code><span class="line"><span style="color:var(--shiki-token-comment);">// js文件</span></span>
<span class="line"><span style="color:var(--shiki-token-constant);">document</span><span style="color:var(--shiki-token-function);">.</span><span style="color:var(--shiki-token-constant);">documentElement</span><span style="color:var(--shiki-token-function);">.</span><span style="color:var(--shiki-token-constant);">style</span><span style="color:var(--shiki-token-function);">.setProperty</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&quot;--aaa&quot;</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&quot;16px&quot;</span><span style="color:var(--shiki-color-text);">)</span></span>
<span class="line"></span></code></pre></div><hr><h2 id="封装-axios" tabindex="-1">封装 axios <a class="header-anchor" href="#封装-axios" aria-hidden="true">#</a></h2><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki css-variables"><code><span class="line"><span style="color:var(--shiki-token-keyword);">import</span><span style="color:var(--shiki-color-text);"> axios </span><span style="color:var(--shiki-token-keyword);">from</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&quot;axios&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">import</span><span style="color:var(--shiki-color-text);"> nprogress </span><span style="color:var(--shiki-token-keyword);">from</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&quot;nprogress&quot;</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">import</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&quot;nprogress/nprogress.css&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-comment);">// 创建axios实例</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">service</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">axios</span><span style="color:var(--shiki-token-function);">.create</span><span style="color:var(--shiki-color-text);">({</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  baseURL</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&quot;&quot;</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-comment);">// 设置基础请求路径</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  timeout</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">5000</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-comment);">// 设置超时</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-comment);">// 请求拦截器</span></span>
<span class="line"><span style="color:var(--shiki-token-constant);">service</span><span style="color:var(--shiki-token-function);">.</span><span style="color:var(--shiki-token-constant);">interceptors</span><span style="color:var(--shiki-token-function);">.</span><span style="color:var(--shiki-token-constant);">request</span><span style="color:var(--shiki-token-function);">.use</span><span style="color:var(--shiki-color-text);">((configs) </span><span style="color:var(--shiki-token-keyword);">=&gt;</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  </span><span style="color:var(--shiki-token-comment);">// 请求头追加token</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  </span><span style="color:var(--shiki-token-keyword);">if</span><span style="color:var(--shiki-color-text);"> (token) {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">    </span><span style="color:var(--shiki-token-constant);">configs</span><span style="color:var(--shiki-color-text);">.</span><span style="color:var(--shiki-token-constant);">headers</span><span style="color:var(--shiki-color-text);">.token </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> token</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  }</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  </span><span style="color:var(--shiki-token-comment);">// 进度条</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  </span><span style="color:var(--shiki-token-constant);">nprogress</span><span style="color:var(--shiki-token-function);">.start</span><span style="color:var(--shiki-color-text);">()</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  </span><span style="color:var(--shiki-token-keyword);">return</span><span style="color:var(--shiki-color-text);"> configs</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-comment);">// 响应拦截器</span></span>
<span class="line"><span style="color:var(--shiki-token-constant);">service</span><span style="color:var(--shiki-token-function);">.</span><span style="color:var(--shiki-token-constant);">interceptors</span><span style="color:var(--shiki-token-function);">.</span><span style="color:var(--shiki-token-constant);">response</span><span style="color:var(--shiki-token-function);">.use</span><span style="color:var(--shiki-color-text);">(</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  (res) </span><span style="color:var(--shiki-token-keyword);">=&gt;</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">    </span><span style="color:var(--shiki-token-comment);">// 成功的回调</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">    </span><span style="color:var(--shiki-token-constant);">nprogress</span><span style="color:var(--shiki-token-function);">.done</span><span style="color:var(--shiki-color-text);">()</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">    </span><span style="color:var(--shiki-token-keyword);">return</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">res</span><span style="color:var(--shiki-color-text);">.data</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  }</span><span style="color:var(--shiki-token-punctuation);">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  (error) </span><span style="color:var(--shiki-token-keyword);">=&gt;</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">    </span><span style="color:var(--shiki-token-constant);">console</span><span style="color:var(--shiki-token-function);">.log</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&quot;error&quot;</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> error)</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  }</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">)</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">export</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">default</span><span style="color:var(--shiki-color-text);"> service</span></span>
<span class="line"></span></code></pre></div><hr>`,11),l=[e];function r(i,p,c,k,y,h){return o(),n("div",null,l)}const d=s(t,[["render",r]]);export{x as __pageData,d as default};
